<!doctype html>
<html class="no-js" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorator="layout/layout" >
<div layout:fragment="content">
    <script th:src="@{/js/user-nav.js}"></script>
    <link th:href="@{/css/user-center.css}" rel="stylesheet" />
    <link th:href="@{/css/user-needs.css}" rel="stylesheet" />

    <div class="user-center">
        <div th:replace="layout/user-nav"></div>
        <div class="content">
            <div class="center-div">
                <div class="center-title bg-danger"><h3>我的请求</h3></div>
                <div class="form-group un-element">
                    <label><h4>我的预算</h4></label>
                    <div>
                        <view th:text="${needs.budget + ' EUR'}"></view>
                        <a class="btn btn-link" th:href="@{/user/needs/update/budget/}+${needs.id}">更改</a>
                    </div>
                </div>
                <div class="form-group un-element bg-white">
                    <label><h4>我的地段</h4></label>
                    <div>
                        <view th:text="${ville.postcode + ' --- ' + ville.name + ' --- ' + ville.code}"></view>
                        <a class="btn btn-link" th:href="@{/user/needs/update/location/}+${needs.id}">更改</a>
                    </div>
                </div>
                <div class="form-group un-element">
                    <label><h4>入住日期</h4></label>
                    <div>
                        <view th:text="${needs.sdate}"></view>
                        <a class="btn btn-link" th:href="@{/user/needs/update/sdate/}+${needs.id}">更改</a>
                    </div>
                </div>
                <div class="form-group un-element bg-white">
                    <label><h4>房  型</h4></label>
                    <div>
                        <view th:text="${rtypes[needs.rtype]}"></view>
                        <a class="btn btn-link" th:href="@{/user/needs/update/rtype/}+${needs.id}">更改</a>
                    </div>
                </div>
                <div class="form-group un-element">
                    <label><h4>交  通</h4></label>
                    <div>
                        <view th:text="${trans[needs.trans]}"></view>
                        <a class="btn btn-link" th:href="@{/user/needs/update/trans/}+${needs.id}">更改</a>
                    </div>
                </div>
                <div class="form-group un-element bg-white">
                    <label><h4>基本家具配置</h4></label>
                    <div class="bases form-group">
                        <view  th:each="item,iter:${needs.base}" class="base-item active" th:data-id="${iter.index}">
                            <text th:text="${bases[item.value]}"></text>
                        </view>
                    </div>
                    <a class="btn btn-link" th:href="@{/user/needs/update/base/}+${needs.id}">更改</a>

                </div>

                <div class="form-group un-element">
                    <label><h4>高级配置</h4></label>
                    <div class="envir form-group">
                        <view  th:each="item,iter:${needs.envir}" class="imm-item active" th:data-id="${iter.index}">
                            <text th:text="${imms[item.value]}"></text>
                        </view>
                    </div>
                    <a class="btn btn-link" th:href="@{/user/needs/update/envir/}+${needs.id}">更改</a>
                </div>
                <div class="center-title bg-danger"><h3>我的担保 / 提前付房租</h3></div>
                <div class="form-group un-element">
                    <label><h4>类型</h4></label>
                    <div>
                        <view th:text="${garanties[garantie.garantie]}"></view>
                        <a class="btn btn-link" th:href="@{/user/needs/update/garantie/}+${garantie.id}">更改</a>
                    </div>
                </div>
                <view th:if="${garantie.garantie==0}">
                    <div class="form-group garantie-0">
                        <div class="form-group">
                            <label><h4>工作</h4></label>
                            <div th:text="${professions[garantie.job]}"></div>
                        </div>

                        <div class="form-group">
                            <label><h4>收入</h4></label>
                            <div th:text="${garantie.salary + ' EUR'}"></div>
                        </div>
                    </div>
                </view>
                <view th:if="${garantie.garantie==1}">
                    <div class="form-group un-element garantie-1">
                        <label><h4>担保文件</h4></label>
                        <div th:text="${garantie.document}"></div>
                    </div>
                </view>
                <view th:if="${garantie.garantie==2}">
                    <div class="form-group un-element garantie-2">
                        <label><h4>提前付房租</h4></label>
                        <div th:text="${payMethods[garantie.payMethod]}"></div>
                    </div>
                </view>

            </div>
        </div>
        <style>
            .center-div{
                width: 70%;
                margin: auto;
                background-color: rgba(255,255,255,0.4);
            }
            .center-title{
                padding: 40px;
                text-align: center;
                color: white;
            }
            .un-element{
                padding: 30px;
            }
        </style>
    </div>
</div>
</html>